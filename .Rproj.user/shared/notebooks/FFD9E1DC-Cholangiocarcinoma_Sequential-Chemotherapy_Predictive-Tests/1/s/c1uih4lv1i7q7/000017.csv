"0","# Define column names, variables, and cutoffs"
"0","column_names <- c(""Cancer_Status"",""Albumin_3.5"", ""LMR_2.1"", ""MON_0.8"", ""LY_1.5"", ""ANC_4"", ""ANC_8"", ""NLR_3"", ""NLR_5"", ""PLT_300"", ""Alk_Phos_135"", ""Alk_Phos_200"", ""Age_60"", ""Age_65"", ""Age_70"", ""Prognostic_Score_ALAN_category"")"
"0",""
"0","# Initialize a list to store survival fits for NPT Cholangiocarcinoma "
"0","cca_kmfits <- list()"
"0",""
"0","# Loop through variables for NPT Cholangiocarcinoma"
"0","for (col in column_names) {"
"0","  # Construct formula with variable name extracted from column name"
"0","  formula <- as.formula(paste(""surv_obj ~"", col))"
"0","  "
"0","  # Fit Kaplan-Meier survival curve"
"0","  cca_kmfit <- survfit(formula, data = cca_df)"
"0","  "
"0","  # Store the fit in the list with a descriptive name"
"0","  cca_kmfits[[paste(""cca_kmfit_"", col, sep = """")]] <- cca_kmfit"
"0","}"
"0",""
"0","# Access results using names like resistant_km_fit_Albumin_3.5 etc."
"0","print(""Cholangiocarcinoma Survival Fits:"")"
"1","[1]"
"1"," ""Cholangiocarcinoma Survival Fits:"""
"1","
"
"0","print(cca_kmfits)"
"1","$cca_kmfit_Cancer_Status
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","                                           "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Cancer_Status=NPT- Cholangiocarcinoma      "
"1"," 19"
"1","      9"
"1","   52.9"
"1","    18.2"
"1","      NA"
"1","
Cancer_Status=Resistant- Cholangiocarcinoma"
"1"," 19"
"1","      7"
"1","   59.8"
"1","    19.6"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Albumin_3.5
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","                  "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Albumin_3.5=< 3.5 "
"1","  9"
"1","      4"
"1","   17.0"
"1","    2.19"
"1","      NA"
"1","
Albumin_3.5=>= 3.5"
"1"," 29"
"1","     12"
"1","   59.8"
"1","   40.61"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_LMR_2.1
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","              "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
LMR_2.1=< 2.1 "
"1"," 10"
"1","      6"
"1","   22.2"
"1","    17.0"
"1","      NA"
"1","
LMR_2.1=>= 2.1"
"1"," 28"
"1","     10"
"1","   59.8"
"1","    40.6"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_MON_0.8
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","              "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
MON_0.8=< 0.8 "
"1"," 28"
"1","     10"
"1","   59.8"
"1","    40.6"
"1","      NA"
"1","
MON_0.8=>= 0.8"
"1"," 10"
"1","      6"
"1","   18.2"
"1","    17.0"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_LY_1.5
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","             "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
LY_1.5=< 1.5 "
"1"," 14"
"1","      5"
"1","   40.6"
"1","    22.2"
"1","      NA"
"1","
LY_1.5=>= 1.5"
"1"," 24"
"1","     11"
"1","   76.3"
"1","    19.6"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_ANC_4
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","          "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
ANC_4=< 4 "
"1","  9"
"1","      3"
"1","   52.9"
"1","    52.9"
"1","      NA"
"1","
ANC_4=>= 4"
"1"," 29"
"1","     13"
"1","   40.6"
"1","    18.2"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_ANC_8
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","          "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
ANC_8=< 8 "
"1"," 27"
"1","     10"
"1","   59.8"
"1","   40.61"
"1","      NA"
"1","
ANC_8=>= 8"
"1"," 11"
"1","      6"
"1","   17.0"
"1","    2.53"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_NLR_3
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","          "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
NLR_3=< 3 "
"1"," 17"
"1","      7"
"1","   76.3"
"1","    52.9"
"1","      NA"
"1","
NLR_3=>= 3"
"1"," 21"
"1","      9"
"1","   17.0"
"1","    14.1"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_NLR_5
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","          "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
NLR_5=< 5 "
"1"," 25"
"1","     10"
"1","   59.8"
"1","   40.61"
"1","      NA"
"1","
NLR_5=>= 5"
"1"," 13"
"1","      6"
"1","   14.1"
"1","    3.35"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_PLT_300
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","              "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
PLT_300=< 300 "
"1"," 28"
"1","     10"
"1","   59.8"
"1","   40.61"
"1","      NA"
"1","
PLT_300=>= 300"
"1"," 10"
"1","      6"
"1","   17.0"
"1","    6.52"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Alk_Phos_135
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","                   "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Alk_Phos_135=< 135 "
"1"," 18"
"1","      7"
"1","   76.3"
"1","    40.6"
"1","      NA"
"1","
Alk_Phos_135=>= 135"
"1"," 20"
"1","      9"
"1","   19.6"
"1","    14.1"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Alk_Phos_200
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","                   "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Alk_Phos_200=< 200 "
"1"," 24"
"1","     10"
"1","   59.8"
"1","    40.6"
"1","      NA"
"1","
Alk_Phos_200=>= 200"
"1"," 14"
"1","      6"
"1","   22.2"
"1","    14.1"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Age_60
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","            "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Age_60=< 60 "
"1"," 10"
"1","      4"
"1","     NA"
"1","    14.1"
"1","      NA"
"1","
Age_60=>= 60"
"1"," 28"
"1","     12"
"1","   52.9"
"1","    22.2"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Age_65
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","            "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Age_65=< 65 "
"1"," 14"
"1","      6"
"1","   40.6"
"1","    19.6"
"1","      NA"
"1","
Age_65=>= 65"
"1"," 24"
"1","     10"
"1","   52.9"
"1","    18.2"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Age_70
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","            "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Age_70=< 70 "
"1"," 22"
"1","      9"
"1","   90.7"
"1","    22.2"
"1","      NA"
"1","
Age_70=>= 70"
"1"," 16"
"1","      7"
"1","   52.9"
"1","    17.0"
"1","      NA"
"1","
"
"1","
"
"1","$cca_kmfit_Prognostic_Score_ALAN_category
"
"1","Call: "
"1","survfit(formula = formula, data = cca_df)
"
"1","
"
"1","                                  "
"1","  n"
"1"," events"
"1"," median"
"1"," 0.95LCL"
"1"," 0.95UCL"
"1","
Prognostic_Score_ALAN_category=0  "
"1"," 15"
"1","      5"
"1","   76.3"
"1","   59.77"
"1","      NA"
"1","
Prognostic_Score_ALAN_category=1-2"
"1"," 15"
"1","      7"
"1","   40.6"
"1","   14.14"
"1","      NA"
"1","
Prognostic_Score_ALAN_category=3-4"
"1","  8"
"1","      4"
"1","   17.0"
"1","    2.19"
"1","      NA"
"1","
"
"1","
"
"0","# Add a line of dashes for separation"
"0","cat(""\n"", paste(rep(""-"", 40), collapse = """"), ""\n"")"
"1","
"
"1"," "
"1","----------------------------------------"
"1"," "
"1","
"
